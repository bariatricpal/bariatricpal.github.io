!function(){var e=function(e){var n=JSON.parse,t=/([^\\])"\s*:\s*(-?\d{16,})/g;return n(e.replace(t,'$1":"$2"'))};window.jsonParse=e}();var Forms=function(){var e=$("#contact"),n=$("#contact .form-field"),t=$("#contact-reset"),i=$("#contact-response"),s=$("#contact-response .js-message"),a={success:"Thank you for getting in touch with Bariatric Hospital MX. We will contact you soon with more information.",error:"Something went wrong, please try again in a few minutes."},o=function(){e.submit(function(t){t.preventDefault();var o=e.serialize();e.addClass("is-loading"),$.ajax({url:"https://script.google.com/macros/s/AKfycbyEKgswH4Fs6Ew2o297nNv2ZllmL1upO7Izh4N1F2FtEBPHyPg/exec",type:"POST",data:o}).done(function(){s.html(a.success)}).fail(function(){s.html(a.error)}).always(function(){e.removeClass("is-loading"),i.removeClass("u-hidden"),n.hide()})})},r=function(){t.click(function(e){e.preventDefault(),n.show(),i.addClass("u-hidden")})};return{init:function(){o(),r()}}}();Forms.init();var Instagram=function(){var e=$("#instagram-feed"),n=function(e){var n;return n='<a class="footer-feedItem" href="'+e.link+'" target="_blank">',n+='<img class="footer-feedImage" src="'+e.images.thumbnail.url+'"/>',n+='<ul class="footer-feedCounter">',n+='<li class="footer-feedCounterItem"><span class="icon icon--instagramLike"></span>'+e.likes.count+"</li>",n+='<li class="footer-feedCounterItem"><span class="icon icon--instagramComment"></span>'+e.comments.count+"</li>",n+="</ul>",n+="</a>"},t=function(){$.ajax({url:"https://api.instagram.com/v1/users/self/media/recent/?access_token=5668885969.f993875.3d4c5b0a65994b0d8ffc3fe2394a3499",type:"GET"}).done(function(t){$.each(t.data,function(t,i){var s=n(i);t<=8&&e.append(s)})})};return{init:function(){t()}}}();Instagram.init(),$(function(){"use strict";var e=$("html"),n=$("body"),t=($(window),$(".js-nav-bar")),i=$(".navBar-button"),s=$(".hero, .section-hero"),a=($(".hero"),$(".js-scroll-to a")),o=$(".modal-close"),r=($("#player"),$(".modal-video")),c=$(".modal"),l=function(){a.click(function(e){e.preventDefault();var n=$(this),t=n.attr("href"),i=$(t).offset().top-120;a.removeClass("is-active"),n.addClass("is-active"),$("html, body").stop().animate({scrollTop:i},500,function(){window.location.hash=t})})},u=function(){s.each(function(){var e=$(this),n=e.attr("data-cover");e.css("background-image",'url("/uploads/'+n+'.png")')})},d=function(){var e=document.location.pathname;t.find('a[href="'+e+'"]').addClass("is-active")},f=function(){i.click(function(e){e.preventDefault(),n.toggleClass("has-side-menu")})},v=function(){$(".js-achordeon").click(function(e){e.preventDefault(),$(this).parents("li").next().toggleClass("u-hidden")})},p=function(){n.on("click",".video-link, .ctrl--play",function(e){e.preventDefault();var n=$(this).attr("href").split("#")[1],t="https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&autoplay=1";r.attr("src",t),m()}),o.click(function(e){e.preventDefault(),r.attr("src",""),h()})},m=function(){e.addClass("has-overlay"),c.show()},h=function(){e.removeClass("has-overlay"),c.hide()};!function(){l(),u(),d(),f(),v(),p()}()});var Newsletters=function(){var e=$("#newsletter"),n=$(".js-newsletter-response"),t=function(){e.submit(function(t){t.preventDefault();var i={EMAIL:e.find('input[type="email"]').val()};$.ajax({url:"https://BariatricHospitalMX.us17.list-manage.com/subscribe/post-json?u=991eedcd1d57b852d7b63dabe&amp;id=b8bd9e85bd&c=?",type:"POST",dataType:"jsonp",data:i}).done(function(t){n.html(t.msg),"error"!==t.result?(e.hide(),n.removeClass("u-textRed")):n.addClass("u-textRed")}).fail(function(){n.html("Something went wrong. Please try again later")})})};return{init:function(){t()}}}();Newsletters.init();var Sliders=function(){var e=($(window),$(document)),n=$(".js-slides"),t=function(n){var t=n.slider,i=t.children(),s=t.parents("div.js-slider").find(".js-controls"),a=s.find('a[href="prevSlide"]'),o=s.find('a[href="nextSlide"]'),r=s.find('a[href="currentSlide"]'),c=i.length,l=null,u=function(e){var n=e.index;return n>=c&&(n=0),n<0&&(n=c-1),n},d=function(e){i.eq(e.index).siblings().removeClass("is-visible"),i.eq(e.index).addClass("is-visible"),r.eq(e.index).siblings().removeClass("is-active"),r.eq(e.index).addClass("is-active")},f=function(){var e=t.find(".is-visible").index(),n=u({index:e-1});d({index:n})},v=function(){var e=t.find(".is-visible").index(),n=u({index:e+1});d({index:n})},p=function(e){return setInterval(function(){v()},8e3)},m=function(){clearInterval(l)},h=function(){s.find("a").click(function(e){e.preventDefault(),m()}),a.click(function(){f()}),o.click(function(){v()}),r.click(function(){var e=$(this).index();d({index:e})}),e.keydown(function(e){37==e.keyCode?(m(),f()):39==e.keyCode&&(m(),v())})};return function(){d({index:0}),l=p(),h()}()};return{init:function(){n.each(function(){t({slider:$(this)})})}}}();Sliders.init();var Youtube=function(){var e=$("#wls-feed-even"),n=$("#wls-feed-odd"),t=$(".js-testimonials"),i=function(e,n,t){var i;return i="<div class='video u-mb3'>",i+="<div class='video-cover'>",i+="<img src="+t+" alt="+n+"/>",i+="</div>",i+="<div class='video-text'>",i+="<p class='u-textSecondary u-m0 u-left'>"+n+"</p>",i+="<a class='video-link u-right' href=#"+e+">",i+="<span class='icon icon--play'></span>Play",i+="</a>",i+="</div>",i+="</div>"},s=function(e,n,t){var i;return i="<div class='section-chunk u-size1of4 u-px2 u-sm-size1of3 u-sm-mt3 u-xs-sizeFull js-testimonials'>",i+="<div class='video u-xs-size10of12 u-mAuto'>",i+="<div class='video-cover'>",i+="<img src="+t+" alt="+n+"/>",i+="</div>",i+="<div class='video-text'>",i+="<p class='u-textSecondary u-m0 u-left'>"+n+"</p>",i+="<a class='video-link u-right' href=#"+e+">",i+="<span class='icon icon--play'></span>Play",i+="</a>",i+="</div>",i+="</div>",i+="</div>"},a=function(){$.ajax({url:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=20&playlistId=PL7rnWU4FvBZ2XRSmHk9qiTkAUGhAEJ8_x&key=AIzaSyB6C4dKXZYXZjyppD53hA3_KG3GEA4G6JY",type:"GET"}).done(function(a){$.each(a.items,function(a,o){var r=o.snippet.resourceId.videoId,c=o.snippet.thumbnails.medium.url,l=o.snippet.title,u=i(r,l,c),d=s(r,l,c);a%2==0?e.append(u):n.append(u),a<3&&t.append(d)})})};return{init:function(){a()}}}();Youtube.init();